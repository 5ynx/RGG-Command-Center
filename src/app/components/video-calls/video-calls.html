<div class="h-full">
    <div class="h-full bg-white rounded-xl shadow-xl/30 p-4 flex flex-col">
        <div class="flex justify-between items-center mb-4 flex-shrink-0">
            <h2 class="text-xl font-semibold text-gray-800">Ongoing Call <span *ngIf="ongoingCallRecord?.caller_name">({{ ongoingCallRecord?.caller_name }} - {{ callDuration }})</span></h2>
            <div class="space-x-2 flex-shrink-0">
                <button class="px-3 py-1 text-sm font-medium text-white bg-emerald-400 rounded hover:bg-emerald-700 transition" (click)="takeSnapshot()">Take Snapshot</button>
                <button class="px-3 py-1 text-sm font-medium text-white bg-red-600 rounded hover:bg-red-700 transition" (click)="endCall()">End Call</button>
            </div>
        </div>

        <!-- Video Container -->
        <div class="flex-1 flex flex-col min-h-0">
            <video id="local-video" class="hidden"></video>
            
            <!-- Remote Video -->
            <div class="flex-1 flex items-center justify-center min-h-0" [ngClass]="{'hidden': callStatus == 'calling'}">
                <video id="remote-video" class="rounded-lg bg-black w-full h-full max-h-full object-cover"></video>
            </div>
            
            <!-- Calling State -->
            <div *ngIf="callStatus == 'calling'" class="flex-1 flex items-center justify-center min-h-0">
                <div class="rounded-lg bg-black w-full h-full max-h-full flex flex-col items-center justify-center text-white text-xl font-semibold space-y-2">
                    <span>{{ ongoingCallRecord?.caller_name }}</span>
                    <span class="animate-pulse text-lg">Calling...</span>
                </div>
            </div>
        </div>
    </div>
</div>